class DeviceMapsHelper {
    constructor () {
        this.deviceMaps = {};
    }

    addOrUpdate (gatewaySid, deviceSids) {
        this.deviceMaps[gatewaySid] = deviceSids;
    }

    remove (gatewaySid) {
        delete this.deviceMaps[gatewaySid];
    }

    getDeviceSids (gatewaySid) {
        return this.deviceMaps[gatewaySid];
    }

    getGatewaySidByDeviceSid (deviceSid) {
        for (let gatewaySid in this.deviceMaps) {
            let deviceIds = this.deviceMaps[gatewaySid];
            for (let i=0; i<deviceIds.length; i++) {
                if (deviceIds[i] === deviceSid) {
                    return gatewaySid;
                }
            }
        }
        return null;
    }

    getAll () {
        return this.deviceMaps;
    }
}

module.exports = DeviceMapsHelper;